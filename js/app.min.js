"use strict";!function(){var e={menu:[{title:"Discography",id:"discography",submenu:[{title:"2007",id:"releases2007"},{title:"2008",id:"releases2008"},{title:"2009",id:"releases2009"},{title:"2010",id:"releases2010"},{title:"2011",id:"releases2011"},{title:"2012",id:"releases2012"},{title:"2013",id:"releases2013"},{title:"2014",id:"releases2014"},{title:"Licensed on other labels",id:"licensed"}]},{title:"About the label",id:"aboutlabel",submenu:[{title:"Label info",id:"labelinfo"},{title:"License music",id:"licensemusic"},{title:"Press quotes",id:"pressquotes"}]},{title:"News",id:"news",submenu:[{title:"Latest news",id:"latestnews"},{title:"News archive",id:"newsarchive"}]}]},t=void 0,o=45e3,n=document.querySelector(".chat"),i=document.querySelector(".content"),a=function(e){var t=arguments.length<=1||void 0===arguments[1]?"user":arguments[1],o=document.createElement("section"),i=function(e,t){setTimeout(function(){e.classList.add("show")},150*t?150*t:10)},a=void 0,s=function(){n.scrollTop+=Math.floor(o.offsetHeight/18)};if(o.classList.add("message"),o.classList.add(t),o.innerHTML="<p>"+e+"</p>",n.appendChild(o),a=window.setInterval(s,16),setTimeout(function(){window.clearInterval(a),n.scrollTop=n.scrollHeight},300),setTimeout(function(){o.classList.add("show")},10),"user"===t){for(var l=n.querySelectorAll("button:not(:disabled)"),c=0;c<l.length;c+=1)i(l[c],c);o.classList.add("active")}},s=function(e){return e[Math.floor(Math.random()*e.length)]},l=function(){var e=document.querySelector(".active"),t=["Did you fall asleep? &#x1F634;","Coffee break? &#x2615;","Still there?","&#x2744; &#x1F331; &#x1F31E; &#x1F342;"];e&&e.parentNode.removeChild(e),a(s(t),"bot"),setTimeout(function(){var e=['Don\'t like this conversation? Send an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a> if you want a real one. &#x1F680;','Not finding what you\'re looking for? Send an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a> with any questions...','Wanna talk to a real person? &#x1F4AC; Fire off an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a>. &#x1F525;'];a(s(e),"bot"),setTimeout(function(){var e=["I just wanna listen to the music &#x1F61E;","Where can I listen to the music? &#x1F631;","I can haz moosik? &#x1F63B;"],t=["Show me the menu again please &#x2705;","Ok, go! &#x1F697;","I wanna check something &#x1F44D;"];a('<button class="choice newmenu showinfo">'+s(e)+'</button><br /><button class="choice newmenu showmenu">'+s(t)+"</button>")},300)},500)},c=function(){var e=["Hi, welcome to Redvolume Records! &#x1F603; This is not the most active label at the moment. Would you like to continue anyway? &#x1F37B;","Hello! &#x1F44B; Welcome to Redvolume Records! We're not very active at the moment, would you still like to know more?"];t=window.setInterval(function(){window.clearInterval(t),l()},o),a(s(e),"bot"),setTimeout(function(){var e=["Yeah, go ahead! &#x1F680;","Sure! &#x1F44D;","Why not! &#x1F44C;"];a('<button class="choice start">'+s(e)+"</button>")},300)},u=function(e){e.parentNode.parentNode.classList.add("selected"),e.parentNode.parentNode.classList.remove("active"),e.parentNode.innerHTML=e.textContent},r=function(i){var c="",r=n.querySelector("button.newmenu"),d=["Here's what I can tell you about... &#x1F3A4;","Ok, check this out! &#x1F447;","Anything else you're interested in? &#x1F64F;","&#x1F42D; A wild Rattata appears... Oh, sorry."],m=["What would you like to know more about? &#x1F4BF; &#x1F3B5; &#x1F3A7;","Can I interest you in any of this? &#x1F4AF;","Select something of the following... &#x1F447;"];r&&u(r),setTimeout(function(){i?a(s(d),"bot"):a(s(m),"bot"),e.menu.forEach(function(e,t){c+='<button class="choice menu" data-submenu="'+t+'">'+e.title+"</button>"}),setTimeout(function(){a(c)},500)},500),t=window.setInterval(function(){window.clearInterval(t),l()},o)},d=function(t){var o="",n=e.menu[t.getAttribute("data-submenu")],i=["&#x1F44D; Here's what I have on that...","See anything interesting? &#x1F648;","Any of this cool? &#x1F60E;","Check this out &#x2728;","&#x26A1; So yeah..."],l=["I wanna read about something other than "+n.title.toLowerCase()+" &#x1F61C;","Show me the menu again &#x1F60B;",n.title+" was interesting, but show me something else... &#x1F612;","What were those other things again? &#x1F60B;"];n.submenu.forEach(function(e){o+='<button class="choice submenu" data-content="'+n.id+"-"+e.id+'">'+e.title+"</button>"}),o+='<br /><button class="choice submenu newmenu">'+s(l)+"</button>",setTimeout(function(){a(s(i),"bot"),setTimeout(function(){a(o)},300)},500)},m=function(e){var t=n.querySelectorAll("button");if(e){for(var o=e.querySelectorAll("img[data-img]"),a=0;a<o.length;a+=1){var s=o[a];s.src=s.getAttribute("data-img"),s.removeAttribute("data-img")}e.classList.add("show"),n.setAttribute("aria-hidden","true"),i.setAttribute("aria-hidden","false"),i.tabIndex="0",i.focus()}else i.setAttribute("aria-hidden","true"),i.tabIndex="-1",n.setAttribute("aria-hidden","false"),history.state&&"content"===history.state.id&&history.back(),setTimeout(function(){var e=document.querySelector(".content article.show");e&&(e.classList.remove("show"),n.querySelector('button[data-content="'+e.id+'"]').focus())},300);for(var l=0;l<t.length;l+=1)t[l].tabIndex=e?"-1":"0"},h=function(e){e.classList.contains("newmenu")?r(!0):(m(document.getElementById(e.getAttribute("data-content"))),history.pushState({id:"content"},"","#"+e.getAttribute("data-content")))};document.addEventListener("click",function(e){e.target.classList.contains("choice")&&(window.clearInterval(t),e.target.classList.contains("submenu")||u(e.target),e.target.classList.contains("menu")&&d(e.target),e.target.classList.contains("submenu")&&h(e.target),e.target.classList.contains("start")&&r(),e.target.classList.contains("showmenu")&&r(!0),e.target.classList.contains("showinfo")&&!function(){var e=["Here's the quickest ways to listen...","We recommend ","Ok, check these links:"];setTimeout(function(){a(s(e)+' <a target="_new" href="http://open.spotify.com/user/dermike/playlist/6WU5ehSeXngZ2M4i2O6v01">Spotify</a> for streaming or <a target="_new" href="http://www.junodownload.com/labels/Redvolume+Sweden/releases/">Juno Download</a> for digital downloads.',"bot"),setTimeout(function(){var e=["OK &#x1F60E;","How do I get back? &#x1F312;","Ok, I'm done! &#x1F44C;"];a('<button class="choice newmenu showmenu">'+s(e)+"</button>")},300)},500)}()),e.target.classList.contains("close")&&(e.preventDefault(),m())}),document.addEventListener("keydown",function(e){27===e.keyCode&&m()}),window.addEventListener("popstate",function(){m(),window.location.hash=""}),setTimeout(function(){c()},500),i.style.display="none",document.body.classList.remove("no-js"),setTimeout(function(){i.style.display="block",document.getElementById(window.location.hash.split("#")[1])&&m(document.getElementById(window.location.hash.split("#")[1]))},350)}();