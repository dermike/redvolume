"use strict";!function(){var e={menu:[{title:"Discography",id:"discography",submenu:[{title:"2007",id:"releases2007"},{title:"2008",id:"releases2008"},{title:"2009",id:"releases2009"},{title:"2010",id:"releases2010"},{title:"2011",id:"releases2011"},{title:"2012",id:"releases2012"},{title:"2013",id:"releases2013"},{title:"2014",id:"releases2014"},{title:"Licensed on other labels",id:"licensed"}]},{title:"About the label",id:"aboutlabel",submenu:[{title:"Label info",id:"labelinfo"},{title:"License music",id:"licensemusic"},{title:"Press quotes",id:"pressquotes"}]},{title:"News",id:"news",submenu:[{title:"Latest news",id:"latestnews"},{title:"News archive",id:"newsarchive"}]}]},t=void 0,n=45e3,o=document.querySelector(".chat"),i=document.querySelector(".content"),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user",n=document.createElement("section"),i=function(e,t){setTimeout(function(){e.classList.add("show")},150*t?150*t:10)},a=void 0,s=function(){o.scrollTop+=Math.floor(n.offsetHeight/18)};if(n.classList.add("message"),n.classList.add(t),n.innerHTML="<p>"+e+"</p>",o.appendChild(n),a=window.setInterval(s,16),setTimeout(function(){window.clearInterval(a),o.scrollTop=o.scrollHeight},300),setTimeout(function(){n.classList.add("show")},10),"user"===t){for(var l=o.querySelectorAll("button:not(:disabled)"),r=0;r<l.length;r+=1)i(l[r],r);n.classList.add("active")}},s=function(e){return e[Math.floor(Math.random()*e.length)]},l=function(){var e=document.querySelector(".active"),t=["Did you fall asleep? &#x1F634;","Coffee break? &#x2615;","Still there?","&#x2744; &#x1F331; &#x1F31E; &#x1F342;"];e&&e.parentNode.removeChild(e),a(s(t),"bot"),setTimeout(function(){var e=['Don\'t like this conversation? Send an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a> if you want a real one. &#x1F680;','Not finding what you\'re looking for? Send an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a> with any questions...','Wanna talk to a real person? &#x1F4AC; Fire off an email to <a href="mailto:mike@redvolume.com">mike@redvolume.com</a>. &#x1F525;'];a(s(e),"bot"),setTimeout(function(){var e=["I just wanna listen to the music &#x1F61E;","Where can I listen to the music? &#x1F631;","I can haz moosik? &#x1F63B;"],t=["Show me the menu again please &#x2705;","Ok, go! &#x1F697;","I wanna check something &#x1F44D;"];a('<button class="choice newmenu showinfo">'+s(e)+'</button><br /><button class="choice newmenu showmenu">'+s(t)+"</button>")},300)},500)},r=function(){var e=["Hi, welcome to Redvolume Records! &#x1F603; This is not the most active label at the moment. Would you like to continue anyway? &#x1F37B;","Hello! &#x1F44B; Welcome to Redvolume Records! We're not very active at the moment, would you still like to know more?"];t=window.setInterval(function(){window.clearInterval(t),l()},n),a(s(e),"bot"),setTimeout(function(){var e=["Yeah, go ahead! &#x1F680;","Sure! &#x1F44D;","Why not! &#x1F44C;"];a('<button class="choice start">'+s(e)+"</button>")},300)},u=function(e){e.parentNode.parentNode.classList.add("selected"),e.parentNode.parentNode.classList.remove("active"),e.parentNode.innerHTML=e.textContent},c=function(i){var r="",c=o.querySelector("button.newmenu"),d=["Here's what I can tell you about... &#x1F3A4;","Ok, check this out! &#x1F447;","Anything else you're interested in? &#x1F64F;"],m=["What would you like to know more about? &#x1F4BF; &#x1F3B5; &#x1F3A7;","Can I interest you in any of this? &#x1F4AF;","Select something of the following... &#x1F447;"];c&&u(c),setTimeout(function(){i?a(s(d),"bot"):a(s(m),"bot"),e.menu.forEach(function(e,t){r+='<button class="choice menu" data-submenu="'+t+'">'+e.title+"</button>"}),setTimeout(function(){a(r)},500)},500),t=window.setInterval(function(){window.clearInterval(t),l()},n)},d=function(t){var n="",o=e.menu[t.getAttribute("data-submenu")],i=["&#x1F44D; Here's what I have on that...","See anything interesting? &#x1F648;","Any of this cool?"],l=["I wanna read about something other than "+o.title.toLowerCase()+" &#x1F61C;","Show me the menu again &#x1F60B;",o.title+" was interesting, but show me something else... &#x1F612;"];o.submenu.forEach(function(e){n+='<button class="choice submenu" data-content="'+o.id+"-"+e.id+'">'+e.title+"</button>"}),n+='<br /><button class="choice submenu newmenu">'+s(l)+"</button>",setTimeout(function(){a(s(i),"bot"),setTimeout(function(){a(n)},300)},500)},m=function(e){var t=o.querySelectorAll("button");if(e){for(var n=e.querySelectorAll("img[data-img]"),a=0;a<n.length;a+=1){var s=n[a];s.src=s.getAttribute("data-img"),s.removeAttribute("data-img")}e.classList.add("show"),o.setAttribute("aria-hidden","true"),i.setAttribute("aria-hidden","false"),i.tabIndex="0",i.focus()}else i.setAttribute("aria-hidden","true"),i.tabIndex="-1",o.setAttribute("aria-hidden","false"),history.state&&"content"===history.state.id&&history.back(),setTimeout(function(){var e=document.querySelector(".content article.show");e&&(e.classList.remove("show"),o.querySelector('button[data-content="'+e.id+'"]').focus())},300);for(var l=0;l<t.length;l+=1)t[l].tabIndex=e?"-1":"0"},h=function(e){e.classList.contains("newmenu")?c(!0):(m(document.getElementById(e.getAttribute("data-content"))),history.pushState({id:"content"},"","#"+e.getAttribute("data-content")))};document.addEventListener("click",function(e){if(e.target.classList.contains("choice")&&(window.clearInterval(t),e.target.classList.contains("submenu")||u(e.target),e.target.classList.contains("menu")&&d(e.target),e.target.classList.contains("submenu")&&h(e.target),e.target.classList.contains("start")&&c(),e.target.classList.contains("showmenu")&&c(!0),e.target.classList.contains("showinfo"))){var n=["Here's the quickest ways to listen...","We recommend ","Ok, check these links:"];a(s(n)+' <a target="_new" href="http://open.spotify.com/user/dermike/playlist/6WU5ehSeXngZ2M4i2O6v01">Spotify</a> for streaming or <a target="_new" href="http://www.junodownload.com/labels/Redvolume+Sweden/releases/">Juno Download</a> for digital downloads.',"bot"),setTimeout(function(){var e=["OK &#x1F60E;","How do I get back? &#x1F312;","Ok, I'm done! &#x1F44C;"];a('<button class="choice newmenu showmenu">'+s(e)+"</button>")},300)}e.target.classList.contains("close")&&m()}),document.addEventListener("keydown",function(e){27===e.keyCode&&m()}),window.addEventListener("popstate",function(){m()}),setTimeout(function(){r()},500)}();